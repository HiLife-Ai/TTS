@model  ModelBind3.Models.ViewClass
@{
    ViewBag.Title = "Index";
    Layout = null;
}

<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/bootstrap.min.js"></script>

<div class="container" style="width:40%;margin-top:2%">

    <a href="#" class="btn btn-primary" data-toggle="modal" data-target="#myModal">Open Model</a>

    <div class="modal fade" id="myModal">
<div class="modal-dialog">
 <div class="modal-content">

        <div class="modal-header">
            
            <h3 class="modal-title">Technotips MVC</h3>
            <a href="#" class="close" data-dissmiss="modal">&times;</a>
            
         </div>
        <div class="modal-body">
            
            <form id="myform">

            @Html.DropDownListFor(model => model.DepartmentId, ViewBag.DepartmentList as SelectList, "--select--", new { @class = "form-Control", @placeholder = "DepartmentId" })
           
            @Html.TextBoxFor(model => model.EmpName, new { @class = "form-control", @placeholder = "Name" })
           
            @Html.TextBoxFor(model => model.Address, new { @class = "form-control", @placeholder = "Address" })
           
            @Html.TextBoxFor(model => model.SName, new { @class = "form-control", @placeholder = "SName" })

            
        </form>

        <div style="text-align:center;" id="loaderDiv">
            <img src="~/content/internetslowdown_day.gif" />
        </div>
            
        </div>
        <div class="modal-footer">
             <a href="#" class="btn btn-default" data-dissmiss="modal">Cancel</a>
            <input type="reset" value="Submit" class="btn btn-success" id="btnSubmit" />
             @* <a href="#" onclick="saveForm()">Save 1</a>*@
 </div>

            </div>

         </div>

    </div>

 </div>
<script>

    $(document).ready(function () {

        $("#btnSubmit").click(function () {

            $("#loaderDiv").show();

            var myformdata = $("#myForm").serialize();

            $.ajax({

                type: "POST",
                url:"/Test/Index",
                data: myformdata,
                success: function () {
                    $("loaderDiv").hide();
                    $("#myModal").modal("hide");
                    
                }
            })
        })
    })

    var saveForm = function () {
        
    }
</script>
